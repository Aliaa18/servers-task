(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{995:(e,r,a)=>{Promise.resolve().then(a.bind(a,7527))},4724:(e,r,a)=>{"use strict";a.d(r,{L:()=>l,default:()=>t});var s=a(5155),o=a(2115);let l=(0,o.createContext)();function t(e){let[r,a]=(0,o.useState)(null);return(0,s.jsx)(l.Provider,{value:{userToken:r,setUserToken:a},children:e.children})}},7527:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>m});var s=a(5155),o=a(3345),l=a(8562),t=a(152),n=a(2282),i=a(2651),d=a(4187),u=a(6046),c=a(9938),h=a(2115),p=a(4724);function m(){let e=(0,u.useRouter)(),{setUserToken:r}=(0,h.useContext)(p.L),a=c.Ik({email:c.Yj().email("Invalid email format").required("Email is required"),password:c.Yj().min(6,"Password must be at least 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password must contain at least one uppercase, one lowercase, one digit, and one special character").required("Password is required")}),m=(0,d.Wx)({initialValues:{email:"",password:""},validationSchema:a,onSubmit:async function(a){try{let{data:s}=await i.A.get("https://674cacb754e1fca9290d4668.mockapi.io/servers?email=".concat(a.email),{headers:{"Content-Type":"application/json"}});if(console.log("Fetched data:",s),s.length>0){let o=s[0];o.password===a.password?(localStorage.setItem("token",o.token),r(o.token),e.push("/")):console.error("Password mismatch")}else console.error("User not found")}catch(e){if(i.A.isAxiosError(e)){var s;console.error("Error during login:",(null===(s=e.response)||void 0===s?void 0:s.data)||e.message)}else console.error("Unexpected error:",e)}}});return(0,s.jsx)(o.A,{maxWidth:"sm",children:(0,s.jsx)(l.A,{elevation:20,sx:{padding:5,mt:3},children:(0,s.jsxs)("form",{onSubmit:m.handleSubmit,action:"",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,s.jsx)(t.A,{onBlur:m.handleBlur,error:!!(m.touched.email&&m.errors.email),helperText:m.touched.email&&m.errors.email,id:"email",onChange:m.handleChange,value:m.values.email,label:"Email",variant:"outlined"}),(0,s.jsx)(t.A,{onBlur:m.handleBlur,error:!!(m.touched.password&&m.errors.password),helperText:m.touched.password&&m.errors.password,id:"password",onChange:m.handleChange,value:m.values.password,label:"Password",type:"password",variant:"outlined"}),(0,s.jsx)(n.A,{type:"submit",sx:{borderRadius:"20px",padding:2},children:"login"})]})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[975,48,143,441,587,358],()=>r(995)),_N_E=e.O()}]);